 /*
 * # Semantic UI - x.x
 * https://github.com/Semantic-Org/Semantic-UI
 * http://www.semantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,t,n,i){e.site=e.fn.site=function(o){var r,a,s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1),f=e.isPlainObject(o)?e.extend(!0,{},e.site.settings,o):e.extend({},e.site.settings),m=f.namespace,p=f.error,g="module-"+m,h=e(n),v=h,b=this,y=v.data(g);return r={initialize:function(){r.instantiate()},instantiate:function(){r.verbose("Storing instance of site",r),y=r,v.data(g,r)},normalize:function(){r.fix.console(),r.fix.requestAnimationFrame()},fix:{console:function(){r.debug("Normalizing window.console"),(console===i||console.log===i)&&(r.verbose("Console not available, normalizing events"),r.disable.console()),("undefined"==typeof console.group||"undefined"==typeof console.groupEnd||"undefined"==typeof console.groupCollapsed)&&(r.verbose("Console group not available, normalizing events"),t.console.group=function(){},t.console.groupEnd=function(){},t.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(r.verbose("Mark timeline not available, normalizing events"),t.console.markTimeline=function(){})},consoleClear:function(){r.debug("Disabling programmatic console clearing"),t.console.clear=function(){}},requestAnimationFrame:function(){r.debug("Normalizing requestAnimationFrame"),t.requestAnimationFrame===i&&(r.debug("RequestAnimationFrame not available, normailizing event"),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(t){return e.fn[t]!==i&&e.fn[t].settings!==i},enabled:{modules:function(t){var n=[];return t=t||f.modules,e.each(t,function(e,t){r.moduleExists(t)&&n.push(t)}),n}},disabled:{modules:function(t){var n=[];return t=t||f.modules,e.each(t,function(e,t){r.moduleExists(t)||n.push(t)}),n}},change:{setting:function(t,n,o,a){o="string"==typeof o?"all"===o?f.modules:[o]:o||f.modules,a=a!==i?a:!0,e.each(o,function(i,o){var s,l=r.moduleExists(o)?e.fn[o].settings.namespace||!1:!0;r.moduleExists(o)&&(r.verbose("Changing default setting",t,n,o),e.fn[o].settings[t]=n,a&&l&&(s=e(":data(module-"+l+")"),s.length>0&&(r.verbose("Modifying existing settings",s),s[o]("setting",t,n))))})},settings:function(t,n,o){n="string"==typeof n?[n]:n||f.modules,o=o!==i?o:!0,e.each(n,function(n,i){var a;r.moduleExists(i)&&(r.verbose("Changing default setting",t,i),e.extend(!0,e.fn[i].settings,t),o&&m&&(a=e(":data(module-"+m+")"),a.length>0&&(r.verbose("Modifying existing settings",a),a[i]("setting",t))))})}},enable:{console:function(){r.console(!0)},debug:function(e,t){e=e||f.modules,r.debug("Enabling debug for modules",e),r.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||f.modules,r.debug("Enabling verbose debug for modules",e),r.change.setting("verbose",!0,e,t)}},disable:{console:function(){r.console(!1)},debug:function(e,t){e=e||f.modules,r.debug("Disabling debug for modules",e),r.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||f.modules,r.debug("Disabling verbose debug for modules",e),r.change.setting("verbose",!1,e,t)}},console:function(e){if(e){if(y.cache.console===i)return void r.error(p.console);r.debug("Restoring console function"),t.console=y.cache.console}else r.debug("Disabling console function"),y.cache.console=t.console,t.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){r.verbose("Destroying previous site for",v),v.removeData(g)},cache:{},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,r,t);else{if(n===i)return r[t];r[t]=n}},debug:function(){f.debug&&(f.performance?r.performance.log(arguments):(r.debug=Function.prototype.bind.call(console.info,console,f.name+":"),r.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?r.performance.log(arguments):(r.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),r.verbose.apply(console,arguments)))},error:function(){r.error=Function.prototype.bind.call(console.error,console,f.name+":"),r.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Element:b,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(r.performance.timer),r.performance.timer=setTimeout(r.performance.display,500)},display:function(){var t=f.name+":",n=0;s=!1,clearTimeout(r.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var s,l,c,u=y;return n=n||d,o=b||o,"string"==typeof t&&u!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var a=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[a])&&n!=s)u=u[a];else{if(u[a]!==i)return l=u[a],!1;if(!e.isPlainObject(u[o])||n==s)return u[o]!==i?(l=u[o],!1):(r.error(p.method,t),!1);u=u[o]}})),e.isFunction(l)?c=l.apply(o,n):l!==i&&(c=l),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),l}},u?(y===i&&r.initialize(),r.invoke(c)):(y!==i&&r.destroy(),r.initialize()),a!==i?a:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}})}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.form=function(t){var o,r=e(this),a=r.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u=arguments[1],d="string"==typeof c,f=[].slice.call(arguments,1);return r.each(function(){var m,p,g,h,v,b,y,x,w,C,k,S,T,A,E,D,R,O,P=e(this),F=this,I=[],L=!1;O={initialize:function(){O.get.settings(),d?(R===i&&O.instantiate(),O.invoke(c)):(O.verbose("Initializing form validation",P,x),O.bindEvents(),O.set.defaults(),O.instantiate())},instantiate:function(){O.verbose("Storing instance of module",O),R=O,P.data(E,O)},destroy:function(){O.verbose("Destroying previous module",R),O.removeEvents(),P.removeData(E)},refresh:function(){O.verbose("Refreshing selector cache"),m=P.find(k.field),p=P.find(k.group),g=P.find(k.message),h=P.find(k.prompt),v=P.find(k.submit),b=P.find(k.clear),y=P.find(k.reset)},submit:function(){O.verbose("Submitting form",P),P.submit()},attachEvents:function(t,n){n=n||"submit",e(t).on("click"+D,function(e){O[n](),e.preventDefault()})},bindEvents:function(){O.verbose("Attaching form events"),P.on("submit"+D,O.validate.form).on("blur"+D,k.field,O.event.field.blur).on("click"+D,k.submit,O.submit).on("click"+D,k.reset,O.reset).on("click"+D,k.clear,O.clear),x.keyboardShortcuts&&P.on("keydown"+D,k.field,O.event.field.keydown),m.each(function(){var t=e(this),n=t.prop("type"),i=O.get.changeEvent(n,t);e(this).on(i+D,O.event.field.change)})},clear:function(){m.each(function(){var t=e(this),n=t.parent(),i=t.closest(p),o=i.find(k.prompt),r=t.data(C.defaultValue)||"",a=n.is(k.uiCheckbox),s=n.is(k.uiDropdown),l=i.hasClass(S.error);l&&(O.verbose("Resetting error on field",i),i.removeClass(S.error),o.remove()),s?(O.verbose("Resetting dropdown value",n,r),n.dropdown("clear")):a?t.prop("checked",!1):(O.verbose("Resetting field value",t,r),t.val(""))})},reset:function(){m.each(function(){var t=e(this),n=t.parent(),o=t.closest(p),r=o.find(k.prompt),a=t.data(C.defaultValue),s=n.is(k.uiCheckbox),l=n.is(k.uiDropdown),c=o.hasClass(S.error);a!==i&&(c&&(O.verbose("Resetting error on field",o),o.removeClass(S.error),r.remove()),l?(O.verbose("Resetting dropdown value",n,a),n.dropdown("restore defaults")):s?(O.verbose("Resetting checkbox value",n,a),t.prop("checked",a)):(O.verbose("Resetting field value",t,a),t.val(a)))})},is:{valid:function(){var t=!0;return O.verbose("Checking if form is valid"),e.each(w,function(e,n){O.validate.field(n)||(t=!1)}),t}},removeEvents:function(){P.off(D),m.off(D),v.off(D),m.off(D)},event:{field:{keydown:function(t){var n=e(this),i=t.which,o={enter:13,escape:27};i==o.escape&&(O.verbose("Escape key pressed blurring field"),n.blur()),!t.ctrlKey&&i==o.enter&&n.is(k.input)&&n.not(k.checkbox).length>0&&(L||(n.one("keyup"+D,O.event.field.keyup),O.submit(),O.debug("Enter pressed on input submitting form")),L=!0)},keyup:function(){L=!1},blur:function(){var t=e(this),n=t.closest(p),i=O.get.validation(t);n.hasClass(S.error)?(O.debug("Revalidating field",t,i),O.validate.field(i)):("blur"==x.on||"change"==x.on)&&O.validate.field(i)},change:function(){var t=e(this),n=t.closest(p);("change"==x.on||n.hasClass(S.error)&&x.revalidate)&&(clearTimeout(O.timer),O.timer=setTimeout(function(){O.debug("Revalidating field",t,O.get.validation(t)),O.validate.field(O.get.validation(t))},x.delay))}}},get:{changeEvent:function(e,t){return"checkbox"==e||"radio"==e||"hidden"==e||t.is("select")?"change":O.get.inputEvent()},inputEvent:function(){return n.createElement("input").oninput!==i?"input":n.createElement("input").onpropertychange!==i?"propertychange":"keyup"},settings:function(){if(e.isPlainObject(t)){var n=Object.keys(t),o=n.length>0?t[n[0]].identifier!==i&&t[n[0]].rules!==i:!1;o?(x=e.extend(!0,{},e.fn.form.settings,u),w=e.extend({},e.fn.form.settings.defaults,t),O.error(x.error.oldSyntax,F),O.verbose("Extending settings from legacy parameters",w,x)):(x=e.extend(!0,{},e.fn.form.settings,t),w=e.extend({},e.fn.form.settings.defaults,x.fields),O.verbose("Extending settings",w,x))}else x=e.fn.form.settings,w=e.fn.form.settings.defaults,O.verbose("Using default form validation",w,x);A=x.namespace,C=x.metadata,k=x.selector,S=x.className,T=x.error,E="module-"+A,D="."+A,R=P.data(E),O.refresh()},field:function(t){return O.verbose("Finding field with identifier",t),m.filter("#"+t).length>0?m.filter("#"+t):m.filter('[name="'+t+'"]').length>0?m.filter('[name="'+t+'"]'):m.filter('[name="'+t+'[]"]').length>0?m.filter('[name="'+t+'[]"]'):m.filter("[data-"+C.validate+'="'+t+'"]').length>0?m.filter("[data-"+C.validate+'="'+t+'"]'):e("<input/>")},fields:function(t){var n=e();return e.each(t,function(e,t){n=n.add(O.get.field(t))}),n},validation:function(t){var n;return w?(e.each(w,function(e,i){O.get.field(i.identifier)[0]==t[0]&&(n=i)}),n||!1):!1},value:function(e){var t,n=[];return n.push(e),t=O.get.values.call(F,n),t[e]},values:function(t){var n=e.isArray(t)?O.get.fields(t):m,i={};return n.each(function(t,n){var o=e(n),r=(o.prop("type"),o.prop("name")),a=o.val(),s=o.is(k.checkbox),l=o.is(k.radio),c=-1!==r.indexOf("[]"),u=s?o.is(":checked"):!1;if(r)if(c)if(r=r.replace("[]",""),i[r]||(i[r]=[]),s){if(!u)return O.debug("Omitted unchecked checkbox",o),!0;i[r].push(a)}else i[r].push(a);else if(l)u&&(i[r]=a);else if(s){if(!u)return O.debug("Omitted unchecked checkbox",o),!0;i[r]=!0}else i[r]=a}),i}},has:{field:function(e){return O.verbose("Checking for existence of a field with identifier",e),"string"!=typeof e&&O.error(T.identifier,e),m.filter("#"+e).length>0?!0:m.filter('[name="'+e+'"]').length>0?!0:m.filter("[data-"+C.validate+'="'+e+'"]').length>0?!0:!1}},add:{prompt:function(t,n){var o=O.get.field(t),r=o.closest(p),a=r.children(k.prompt),s=0!==a.length;n="string"==typeof n?[n]:n,O.verbose("Adding field error state",t),r.addClass(S.error),x.inline&&(s||(a=x.templates.prompt(n),a.appendTo(r)),a.html(n[0]),s?O.verbose("Inline errors are disabled, no inline error added",t):x.transition&&e.fn.transition!==i&&P.transition("is supported")?(O.verbose("Displaying error with css transition",x.transition),a.transition(x.transition+" in",x.duration)):(O.verbose("Displaying error with fallback javascript animation"),a.fadeIn(x.duration)))},errors:function(e){O.debug("Adding form error messages",e),g.html(x.templates.error(e))}},remove:{prompt:function(t){var n=O.get.field(t.identifier),o=n.closest(p),r=o.children(k.prompt);o.removeClass(S.error),x.inline&&r.is(":visible")&&(O.verbose("Removing prompt for field",t),x.transition&&e.fn.transition!==i&&P.transition("is supported")?r.transition(x.transition+" out",x.duration,function(){r.remove()}):r.fadeOut(x.duration,function(){r.remove()}))}},set:{success:function(){P.removeClass(S.error).addClass(S.success)},defaults:function(){m.each(function(){var t=e(this),n=t.filter(k.checkbox).length>0,i=n?t.is(":checked"):t.val();t.data(C.defaultValue,i)})},error:function(){P.removeClass(S.success).addClass(S.error)},value:function(e,t){var n={};return n[e]=t,O.set.values.call(F,n)},values:function(t){e.isEmptyObject(t)||e.each(t,function(t,n){var i,o=O.get.field(t),r=o.parent(),a=e.isArray(n),s=r.is(k.uiCheckbox),l=r.is(k.uiDropdown),c=o.is(k.radio)&&s,u=o.length>0;u&&(a&&s?(O.verbose("Selecting multiple",n,o),r.checkbox("uncheck"),e.each(n,function(e,t){i=o.filter('[value="'+t+'"]'),r=i.parent(),i.length>0&&r.checkbox("check")})):c?(O.verbose("Selecting radio value",n,o),o.filter('[value="'+n+'"]').parent(k.uiCheckbox).checkbox("check")):s?(O.verbose("Setting checkbox value",n,r),r.checkbox(n===!0?"check":"uncheck")):l?(O.verbose("Setting dropdown value",n,r),r.dropdown("set selected",n)):(O.verbose("Setting field value",n,o),o.val(n)))})}},validate:{form:function(e){return L?!1:(I=[],O.is.valid()?(O.debug("Form has no validation errors, submitting"),O.set.success(),x.onSuccess.call(F,e)):(O.debug("Form has errors"),O.set.error(),x.inline||O.add.errors(I),P.data("moduleApi")!==i&&e.stopImmediatePropagation(),x.onFailure.call(F,I)))},field:function(t){var n=O.get.field(t.identifier),o=!0,r=[];return n.prop("disabled")?(O.debug("Field is disabled. Skipping",t.identifier),o=!0):t.optional&&""===e.trim(n.val())?(O.debug("Field is optional and empty. Skipping",t.identifier),o=!0):t.rules!==i&&e.each(t.rules,function(e,n){O.has.field(t.identifier)&&!O.validate.rule(t,n)&&(O.debug("Field is invalid",t.identifier,n.type),r.push(n.prompt),o=!1)}),o?(O.remove.prompt(t,r),x.onValid.call(n),!0):(I=I.concat(r),O.add.prompt(t.identifier,r),x.onInvalid.call(n,r),!1)},rule:function(t,n){var o,r,a,s=O.get.field(t.identifier),l=n.type,c=s.val(),u=l.match(x.regExp.bracket),d=!0;if(c=c===i||""===c||null===c?"":e.trim(c+""),u){if(r=""+u[1],a=l.replace(u[0],""),o=x.rules[a],!e.isFunction(o))return void O.error(T.noRule,a);d=o.call(s,c,r)}else{if(o=x.rules[l],!e.isFunction(o))return void O.error(T.noRule,l);d=o.call(s,c)}return d}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(n===i)return x[t];x[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,O,t);else{if(n===i)return O[t];O[t]=n}},debug:function(){x.debug&&(x.performance?O.performance.log(arguments):(O.debug=Function.prototype.bind.call(console.info,console,x.name+":"),O.debug.apply(console,arguments)))},verbose:function(){x.verbose&&x.debug&&(x.performance?O.performance.log(arguments):(O.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),O.verbose.apply(console,arguments)))},error:function(){O.error=Function.prototype.bind.call(console.error,console,x.name+":"),O.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;x.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:F,"Execution Time":n})),clearTimeout(O.performance.timer),O.performance.timer=setTimeout(O.performance.display,500)},display:function(){var t=x.name+":",n=0;s=!1,clearTimeout(O.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),r.length>1&&(t+=" ("+r.length+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,r){var a,s,l,c=R;return n=n||f,r=F||r,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,o){var r=n!=a?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[r])&&n!=a)c=c[r];else{if(c[r]!==i)return s=c[r],!1;if(!e.isPlainObject(c[o])||n==a)return c[o]!==i?(s=c[o],!1):!1;c=c[o]}})),e.isFunction(s)?l=s.apply(r,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},O.initialize()}),o!==i?o:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{bracket:/\[(.*)\]/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,email:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",integer:/^\-?\d+$/,flags:/^\/(.*)\/(.*)?/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.",identifier:"You must specify a string identifier for each field",noRule:"There is no rule matching the one you specified",method:"The method you called is not defined."},templates:{error:function(t){var n='<ul class="list">';return e.each(t,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>",e(n)},prompt:function(t){return e("<div/>").addClass("ui red pointing prompt label").html(t[0])}},rules:{empty:function(t){return!(t===i||""===t||e.isArray(t)&&0===t.length)},checked:function(){return e(this).filter(":checked").length>0},email:function(t){var n=new RegExp(e.fn.form.settings.regExp.email,"i");return n.test(t)},url:function(t){return e.fn.form.settings.regExp.url.test(t)},regExp:function(t,n){var i,o=n.match(e.fn.form.settings.regExp.flags);return o&&(n=o.length>=2?o[1]:n,i=o.length>=3?o[2]:""),t.match(new RegExp(n,i))},integer:function(t,n){var o,r,a,s=e.fn.form.settings.regExp.integer;return n===i||""===n||".."===n||(-1==n.indexOf("..")?s.test(n)&&(o=r=n-0):(a=n.split("..",2),s.test(a[0])&&(o=a[0]-0),s.test(a[1])&&(r=a[1]-0))),s.test(t)&&(o===i||t>=o)&&(r===i||r>=t)},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,e="string"==typeof e?e.toLowerCase():e,e==t},isExactly:function(e,t){return e==t},not:function(e,t){return e="string"==typeof e?e.toLowerCase():e,t="string"==typeof t?t.toLowerCase():t,e!=t},notExactly:function(e,t){return e!=t},contains:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1!==t.search(new RegExp(n,"i"))},containsExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1!==t.search(new RegExp(n))},doesntContain:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1===t.search(new RegExp(n,"i"))},doesntContainExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1===t.search(new RegExp(n))},minLength:function(e,t){return e!==i?e.length>=t:!1},length:function(e,t){return e!==i?e.length>=t:!1},exactLength:function(e,t){return e!==i?e.length==t:!1},maxLength:function(e,t){return e!==i?e.length<=t:!1},match:function(t,n){{var o;e(this)}return e('[data-validate="'+n+'"]').length>0?o=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?o=e("#"+n).val():e('[name="'+n+'"]').length>0?o=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(o=e('[name="'+n+'[]"]')),o!==i?t.toString()==o.toString():!1},different:function(t,n){{var o;e(this)}return e('[data-validate="'+n+'"]').length>0?o=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?o=e("#"+n).val():e('[name="'+n+'"]').length>0?o=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(o=e('[name="'+n+'[]"]')),o!==i?t.toString()!==o.toString():!1},exactCount:function(e,t){return 0==t?""===e:1==t?""!==e&&-1===e.search(","):e.split(",").length==t},minCount:function(e,t){return 0==t?!0:1==t?""!==e:e.split(",").length>=t},maxCount:function(e,t){return 0==t?!1:1==t?-1===e.search(","):e.split(",").length<=t}}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.checkbox=function(n){var o,r=e(this),a=r.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return r.each(function(){var r,f,m=e.extend(!0,{},e.fn.checkbox.settings,n),p=m.className,g=m.namespace,h=m.selector,v=m.error,b="."+g,y="module-"+g,x=e(this),w=e(this).children(h.label),C=e(this).children(h.input),k=!1,S=x.data(y),T=this;f={initialize:function(){f.verbose("Initializing checkbox",m),f.create.label(),f.bind.events(),f.set.tabbable(),f.hide.input(),f.observeChanges(),f.instantiate(),f.setup()},instantiate:function(){f.verbose("Storing instance of module",f),S=f,x.data(y,f)},destroy:function(){f.verbose("Destroying module"),f.unbind.events(),f.show.input(),x.removeData(y)},fix:{reference:function(){x.is(h.input)&&(f.debug("Behavior called on <input> adjusting invoked element"),x=x.closest(h.checkbox),f.refresh())}},setup:function(){f.is.indeterminate()?(f.debug("Initial value is indeterminate"),f.set.indeterminate(),m.fireOnInit&&(m.onIndeterminate.call(C[0]),m.onChange.call(C[0]))):f.is.checked()?(f.debug("Initial value is checked"),f.set.checked(),m.fireOnInit&&(m.onChecked.call(C[0]),m.onChange.call(C[0]))):(f.debug("Initial value is unchecked"),f.set.unchecked(),m.fireOnInit&&(m.onUnchecked.call(C[0]),m.onChange.call(C[0])))},refresh:function(){w=x.children(h.label),C=x.children(h.input)},hide:{input:function(){f.verbose("Modfying <input> z-index to be unselectable"),C.addClass(p.hidden)}},show:{input:function(){f.verbose("Modfying <input> z-index to be selectable"),C.removeClass(p.hidden)}},observeChanges:function(){"MutationObserver"in t&&(r=new MutationObserver(function(e){f.debug("DOM tree modified, updating selector cache"),f.refresh()}),r.observe(T,{childList:!0,subtree:!0}),f.debug("Setting up mutation observer",r))},attachEvents:function(t,n){var i=e(t);n=e.isFunction(f[n])?f[n]:f.toggle,i.length>0?(f.debug("Attaching checkbox events to element",t,n),i.on("click"+b,n)):f.error(v.notFound)},event:{click:function(t){return e(t.target).is(h.input)?void f.verbose("Using default check action on initialized checkbox"):(f.toggle(),C.focus(),void t.preventDefault())},keydown:function(e){var t=e.which,n={enter:13,space:32,escape:27};t==n.escape?(f.verbose("Escape key pressed blurring field"),C.blur(),k=!0):e.ctrlKey||t!=n.space&&t!=n.enter?k=!1:(f.verbose("Enter/space key pressed, toggling checkbox"),f.toggle(),k=!0)},keyup:function(e){k&&e.preventDefault()}},check:function(){return!f.is.indeterminate()&&f.is.checked()?void f.debug("Checkbox is already checked"):(f.debug("Checking checkbox",C),f.set.checked(),m.onChecked.call(C[0]),void m.onChange.call(C[0]))},uncheck:function(){return!f.is.indeterminate()&&f.is.unchecked()?void f.debug("Checkbox is already unchecked"):(f.debug("Unchecking checkbox"),f.set.unchecked(),m.onUnchecked.call(C[0]),void m.onChange.call(C[0]))},indeterminate:function(){return f.is.indeterminate()?void f.debug("Checkbox is already indeterminate"):(f.debug("Making checkbox indeterminate"),f.set.indeterminate(),m.onIndeterminate.call(C[0]),void m.onChange.call(C[0]))},determinate:function(){return f.is.determinate()?void f.debug("Checkbox is already determinate"):(f.debug("Making checkbox determinate"),f.set.determinate(),m.onDeterminate.call(C[0]),void m.onChange.call(C[0]))},enable:function(){return f.is.enabled()?void f.debug("Checkbox is already enabled"):(f.debug("Enabling checkbox"),f.set.enabled(),void m.onEnable.call(C[0]))},disable:function(){return f.is.disabled()?void f.debug("Checkbox is already disabled"):(f.debug("Disabling checkbox"),f.set.disabled(),void m.onDisable.call(C[0]))},get:{radios:function(){var t=f.get.name();return e('input[name="'+t+'"]').closest(h.checkbox)},otherRadios:function(){return f.get.radios().not(x)},name:function(){return C.attr("name")}},is:{radio:function(){return C.hasClass(p.radio)||"radio"==C.attr("type")},indeterminate:function(){return C.prop("indeterminate")!==i&&C.prop("indeterminate")},checked:function(){return C.prop("checked")!==i&&C.prop("checked")},disabled:function(){return C.prop("disabled")!==i&&C.prop("disabled")},enabled:function(){return!f.is.disabled()},determinate:function(){return!f.is.indeterminate()},unchecked:function(){return!f.is.checked()}},can:{change:function(){return!(x.hasClass(p.disabled)||x.hasClass(p.readOnly)||C.prop("disabled")||C.prop("readonly"))},uncheck:function(){return"boolean"==typeof m.uncheckable?m.uncheckable:!f.is.radio()}},set:{checked:function(){return f.verbose("Setting class to checked"),x.removeClass(p.indeterminate).addClass(p.checked),f.is.radio()&&f.uncheckOthers(),!f.is.indeterminate()&&f.is.checked()?void f.debug("Input is already checked, skipping input property change"):(f.verbose("Setting state to checked",C[0]),C.prop("indeterminate",!1).prop("checked",!0),void f.trigger.change())},unchecked:function(){return f.verbose("Removing checked class"),x.removeClass(p.indeterminate).removeClass(p.checked),!f.is.indeterminate()&&f.is.unchecked()?void f.debug("Input is already unchecked"):(f.debug("Setting state to unchecked"),C.prop("indeterminate",!1).prop("checked",!1),void f.trigger.change())},indeterminate:function(){return f.verbose("Setting class to indeterminate"),x.addClass(p.indeterminate),f.is.indeterminate()?void f.debug("Input is already indeterminate, skipping input property change"):(f.debug("Setting state to indeterminate"),C.prop("indeterminate",!0),void f.trigger.change())},determinate:function(){return f.verbose("Removing indeterminate class"),x.removeClass(p.indeterminate),f.is.determinate()?void f.debug("Input is already determinate, skipping input property change"):(f.debug("Setting state to determinate"),void C.prop("indeterminate",!1))},disabled:function(){return f.verbose("Setting class to disabled"),x.addClass(p.disabled),f.is.disabled()?void f.debug("Input is already disabled, skipping input property change"):(f.debug("Setting state to disabled"),C.prop("disabled","disabled"),void f.trigger.change())},enabled:function(){return f.verbose("Removing disabled class"),x.removeClass(p.disabled),f.is.enabled()?void f.debug("Input is already enabled, skipping input property change"):(f.debug("Setting state to enabled"),C.prop("disabled",!1),void f.trigger.change())},tabbable:function(){f.verbose("Adding tabindex to checkbox"),C.attr("tabindex")===i&&C.attr("tabindex",0)}},trigger:{change:function(){f.verbose("Triggering change event from programmatic change"),C.trigger("change")}},create:{label:function(){C.prevAll(h.label).length>0?(C.prev(h.label).detach().insertAfter(C),f.debug("Moving existing label",w)):f.has.label()||(w=e("<label>").insertAfter(C),f.debug("Creating label",w))}},has:{label:function(){return w.length>0}},bind:{events:function(){f.verbose("Attaching checkbox events"),x.on("click"+b,f.event.click).on("keydown"+b,h.input,f.event.keydown).on("keyup"+b,h.input,f.event.keyup)}},unbind:{events:function(){f.debug("Removing events"),x.off(b)}},uncheckOthers:function(){var e=f.get.otherRadios();f.debug("Unchecking other radios",e),e.removeClass(p.checked)},toggle:function(){return f.can.change()?void(f.is.indeterminate()||f.is.unchecked()?(f.debug("Currently unchecked"),f.check()):f.is.checked()&&f.can.uncheck()&&(f.debug("Currently checked"),f.uncheck())):void(f.is.radio()||f.debug("Checkbox is read-only or disabled, ignoring toggle"))},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},debug:function(){m.debug&&(m.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,m.name+":"),f.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,m.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=m.name+":",n=0;s=!1,clearTimeout(f.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,r){var a,s,l,c=S;return n=n||d,r=T||r,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,o){var r=n!=a?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[r])&&n!=a)c=c[r];else{if(c[r]!==i)return s=c[r],!1;if(!e.isPlainObject(c[o])||n==a)return c[o]!==i?(s=c[o],!1):(f.error(v.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(r,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},u?(S===i&&f.initialize(),f.invoke(c)):(S!==i&&S.invoke("destroy"),f.initialize())}),o!==i?o:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]'}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.dropdown=function(o){var r,a=e(this),s=e(n),l=a.selector||"",c="ontouchstart"in n.documentElement,u=(new Date).getTime(),d=[],f=arguments[0],m="string"==typeof f,p=[].slice.call(arguments,1);return a.each(function(g){var h,v,b,y,x,w,C,k=e.isPlainObject(o)?e.extend(!0,{},e.fn.dropdown.settings,o):e.extend({},e.fn.dropdown.settings),S=k.className,T=k.message,A=k.metadata,E=k.namespace,D=k.regExp,R=k.selector,O=k.error,P=k.templates,F="."+E,I="module-"+E,L=e(this),z=e(k.context),q=L.find(R.text),j=L.find(R.search),V=L.find(R.input),M=L.find(R.icon),N=L.prev().find(R.text).length>0?L.prev().find(R.text):L.prev(),H=L.children(R.menu),U=H.find(R.item),B=!1,W=!1,K=this,$=L.data(I);C={initialize:function(){C.debug("Initializing dropdown",k),C.is.alreadySetup()?C.setup.reference():(C.setup.layout(),C.refreshData(),C.save.defaults(),C.restore.selected(),C.create.id(),c&&C.bind.touchEvents(),C.bind.mouseEvents(),C.bind.keyboardEvents(),C.observeChanges(),C.instantiate());

},instantiate:function(){C.verbose("Storing instance of dropdown",C),$=C,L.data(I,C)},destroy:function(){C.verbose("Destroying previous dropdown",L),C.remove.tabbable(),L.off(F).removeData(I),H.off(F),s.off(b),x&&x.disconnect(),w&&w.disconnect()},observeChanges:function(){"MutationObserver"in t&&(x=new MutationObserver(function(e){C.debug("<select> modified, recreating menu"),C.setup.select()}),w=new MutationObserver(function(e){C.debug("Menu modified, updating selector cache"),C.refresh()}),C.has.input()&&x.observe(V[0],{childList:!0,subtree:!0}),C.has.menu()&&w.observe(H[0],{childList:!0,subtree:!0}),C.debug("Setting up mutation observer",x,w))},create:{id:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),b="."+y,C.verbose("Creating unique id for element",y)},userChoice:function(t){var n,o,r;return(t=t||C.get.userValues())?(t=e.isArray(t)?t:[t],e.each(t,function(t,a){C.get.item(a)===!1&&(r=k.templates.addition(a),o=e("<div />").html(r).data(A.value,a).addClass(S.addition).addClass(S.item),n=n===i?o:n.add(o),C.verbose("Creating user choices for value",a,o))}),n):!1},userLabels:function(t){var n=C.get.userValues();n&&(C.debug("Adding user labels",n),e.each(n,function(e,t){C.verbose("Adding custom user value"),C.add.label(t,t)}))}},search:function(e){e=e!==i?e:C.get.query(),C.verbose("Searching for query",e),C.filter(e)},select:{firstUnfiltered:function(){C.verbose("Selecting first non-filtered element"),C.remove.selectedItem(),U.not(R.unselectable).eq(0).addClass(S.selected)},nextAvailable:function(e){e=e.eq(0);var t=e.nextAll(R.item).not(R.unselectable).eq(0),n=e.prevAll(R.item).not(R.unselectable).eq(0),i=t.length>0;i?(C.verbose("Moving selection to",t),t.addClass(S.selected)):(C.verbose("Moving selection to",n),n.addClass(S.selected))}},setup:{api:function(){var e={debug:k.debug,on:!1};C.verbose("First request, initializing API"),L.api(e)},layout:function(){L.is("select")&&(C.setup.select(),C.setup.returnedObject()),C.is.search()&&!C.has.search()&&(C.verbose("Adding search input"),j=e("<input />").addClass(S.search).insertBefore(q)),k.allowTab&&C.set.tabbable(),0===H.length&&(H=e("<div />").addClass(S.menu).appendTo(L))},select:function(){var t=C.get.selectValues();C.debug("Dropdown initialized on a select",t),L.is("select")&&(V=L),V.parent(R.dropdown).length>0?(C.debug("UI dropdown already exists. Creating dropdown menu only"),L=V.closest(R.dropdown),H=L.children(R.menu),C.setup.menu(t)):(C.debug("Creating entire dropdown from select"),L=e("<div />").attr("class",V.attr("class")).addClass(S.selection).addClass(S.dropdown).html(P.dropdown(t)).insertBefore(V),V.hasClass(S.multiple)&&V.prop("multiple")===!1&&(C.error(O.missingMultiple),V.prop("multiple",!0)),V.is("[multiple]")&&C.set.multiple(),V.removeAttr("class").detach().prependTo(L)),C.refresh()},menu:function(e){H.html(P.menu(e)),U=H.find(R.item)},reference:function(){C.debug("Dropdown behavior was called on select, replacing with closest dropdown"),L=L.parent(R.dropdown),C.refresh(),C.setup.returnedObject(),m&&($=C,C.invoke(f))},returnedObject:function(){var e=a.slice(0,g),t=a.slice(g+1);a=e.add(L).add(t)}},refresh:function(){C.refreshSelectors(),C.refreshData()},refreshSelectors:function(){C.verbose("Refreshing selector cache"),q=L.find(R.text),j=L.find(R.search),V=L.find(R.input),M=L.find(R.icon),N=L.prev().find(R.text).length>0?L.prev().find(R.text):L.prev(),H=L.children(R.menu),U=H.find(R.item)},refreshData:function(){C.verbose("Refreshing cached metadata"),U.removeData(A.text).removeData(A.value),L.removeData(A.defaultText).removeData(A.defaultValue).removeData(A.placeholderText)},toggle:function(){C.verbose("Toggling menu visibility"),C.is.active()?C.hide():C.show()},show:function(t){if(t=e.isFunction(t)?t:function(){},C.can.show()&&!C.is.active()){if(C.debug("Showing dropdown"),C.is.multiple()&&!C.has.search()&&C.is.allFiltered())return!0;C.animate.show(function(){C.can.click()&&C.bind.intent(),C.set.visible(),t.call(K)}),k.onShow.call(K)}},hide:function(t){t=e.isFunction(t)?t:function(){},C.is.active()&&(C.debug("Hiding dropdown"),C.animate.hide(function(){C.remove.visible(),t.call(K)}),k.onHide.call(K))},hideOthers:function(){C.verbose("Finding other dropdowns to hide"),a.not(L).has(R.menu+"."+S.visible).dropdown("hide")},hideMenu:function(){C.verbose("Hiding menu  instantaneously"),C.remove.active(),C.remove.visible(),H.transition("hide")},hideSubMenus:function(){var e=H.children(R.item).find(R.menu);C.verbose("Hiding sub menus",e),e.transition("hide")},bind:{keyboardEvents:function(){C.debug("Binding keyboard events"),L.on("keydown"+F,C.event.keydown),C.has.search()&&L.on(C.get.inputEvent()+F,R.search,C.event.input),C.is.multiple()&&s.on("keydown"+b,C.event.document.keydown)},touchEvents:function(){C.debug("Touch device detected binding additional touch events"),C.is.searchSelection()||C.is.single()&&L.on("touchstart"+F,C.event.test.toggle),H.on("touchstart"+F,R.item,C.event.item.mouseenter)},mouseEvents:function(){C.debug("Mouse detected binding mouse events"),C.is.multiple()&&L.on("click"+F,R.label,C.event.label.click).on("click"+F,R.remove,C.event.remove.click),C.is.searchSelection()?(L.on("mousedown"+F,R.menu,C.event.menu.mousedown).on("mouseup"+F,R.menu,C.event.menu.mouseup).on("click"+F,R.icon,C.event.icon.click).on("click"+F,R.search,C.show).on("focus"+F,R.search,C.event.search.focus).on("blur"+F,R.search,C.event.search.blur).on("click"+F,R.text,C.event.text.focus),C.is.multiple()&&L.on("click"+F,C.event.click)):("click"==k.on?L.on("click"+F,R.icon,C.event.icon.click).on("click"+F,C.event.test.toggle):"hover"==k.on?L.on("mouseenter"+F,C.delay.show).on("mouseleave"+F,C.delay.hide):L.on(k.on+F,C.toggle),L.on("mousedown"+F,C.event.mousedown).on("mouseup"+F,C.event.mouseup).on("focus"+F,C.event.focus).on("blur"+F,C.event.blur)),H.on("mouseenter"+F,R.item,C.event.item.mouseenter).on("mouseleave"+F,R.item,C.event.item.mouseleave).on("click"+F,R.item,C.event.item.click)},intent:function(){C.verbose("Binding hide intent event to document"),c&&s.on("touchstart"+b,C.event.test.touch).on("touchmove"+b,C.event.test.touch),s.on("click"+b,C.event.test.hide)}},unbind:{intent:function(){C.verbose("Removing hide intent event from document"),c&&s.off("touchstart"+b).off("touchmove"+b),s.off("click"+b)}},filter:function(e){var t=e!==i?e:C.get.query(),n=function(){C.is.multiple()&&C.filterActive(),C.select.firstUnfiltered(),C.has.allResultsFiltered()?k.onNoResults.call(K,t)?k.allowAdditions||(C.verbose("All items filtered, showing message",t),C.add.message(T.noResults)):(C.verbose("All items filtered, hiding dropdown",t),C.hideMenu()):C.remove.message(),k.allowAdditions&&C.add.userSuggestion(e),C.is.searchSelection()&&C.can.show()&&C.is.focusedOnSearch()&&C.show()};k.useLabels&&C.has.maxSelections()||(k.apiSettings?C.can.useAPI()?C.queryRemote(t,function(){n()}):C.error(O.noAPI):(C.filterItems(t),n()))},queryRemote:function(t,n){var i={errorDuration:!1,throttle:k.throttle,cache:"local",urlData:{query:t},onError:function(){C.add.message(T.serverError),n()},onFailure:function(){C.add.message(T.serverError),n()},onSuccess:function(e){C.remove.message(),C.setup.menu({values:e.results}),n()}};L.api("get request")||C.setup.api(),i=e.extend(!0,{},i,k.apiSettings),L.api("setting",i).api("query")},filterItems:function(t){var n=t!==i?t:C.get.query(),o=e(),r=C.escape.regExp(n),a=new RegExp("^"+r,"igm");""===n?o=U:(C.verbose("Searching for matching values",n),U.each(function(){var t,i,r=e(this);if("both"==k.match||"text"==k.match){if(t=String(C.get.choiceText(r,!1)),-1!==t.search(a))return o=o.add(r),!0;if(k.fullTextSearch&&C.fuzzySearch(n,t))return o=o.add(r),!0}if("both"==k.match||"value"==k.match){if(i=String(C.get.choiceValue(r,t)),-1!==i.search(a))return o=o.add(r),!0;if(k.fullTextSearch&&C.fuzzySearch(n,i))return o=o.add(r),!0}})),C.debug("Showing only matched items",n),C.remove.filteredItem(),U.not(o).addClass(S.filtered)},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var o=0,r=0;i>o;o++){for(var a=e.charCodeAt(o);n>r;)if(t.charCodeAt(r++)===a)continue e;return!1}return!0},filterActive:function(){k.useLabels&&U.filter("."+S.active).addClass(S.filtered)},focusSearch:function(){C.is.search()&&!C.is.focusedOnSearch()&&j[0].focus()},forceSelection:function(){var e=U.not(S.filtered).filter("."+S.selected).eq(0),t=U.not(S.filtered).filter("."+S.active).eq(0),n=e.length>0?e:t,i=n.size()>0;i?(C.debug("Forcing partial selection to selected item",n),C.event.item.click.call(n)):C.hide()},event:{focus:function(){k.showOnFocus&&!B&&C.is.hidden()&&!v&&C.show()},click:function(t){var n=e(t.target);n.is(L)&&!C.is.focusedOnSearch()&&C.focusSearch()},blur:function(e){v=n.activeElement===this,B||v||(C.remove.activeLabel(),C.hide())},mousedown:function(){B=!0},mouseup:function(){B=!1},search:{focus:function(){B=!0,C.is.multiple()&&C.remove.activeLabel(),k.showOnFocus&&C.show()},blur:function(e){v=n.activeElement===this,W||v||(C.is.multiple()?(C.remove.activeLabel(),C.hide()):k.forceSelection?C.forceSelection():C.hide())}},icon:{click:function(e){C.toggle(),e.stopPropagation()}},text:{focus:function(e){B=!0,C.focusSearch()}},input:function(e){(C.is.multiple()||C.is.searchSelection())&&C.set.filtered(),clearTimeout(C.timer),C.timer=setTimeout(C.search,k.delay.search)},label:{click:function(t){var n=e(this),i=L.find(R.label),o=i.filter("."+S.active),r=n.nextAll("."+S.active),a=n.prevAll("."+S.active),s=r.length>0?n.nextUntil(r).add(o).add(n):n.prevUntil(a).add(o).add(n);t.shiftKey?(o.removeClass(S.active),s.addClass(S.active)):t.ctrlKey?n.toggleClass(S.active):(o.removeClass(S.active),n.addClass(S.active)),k.onLabelSelect.apply(this,i.filter("."+S.active))}},remove:{click:function(){var t=e(this).parent();t.hasClass(S.active)?C.remove.activeLabels():C.remove.activeLabels(t)}},test:{toggle:function(e){var t=C.is.multiple()?C.show:C.toggle;C.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){C.determine.eventOnElement(e,function(){"touchstart"==e.type?C.timer=setTimeout(C.hide,k.delay.touch):"touchmove"==e.type&&clearTimeout(C.timer)}),e.stopPropagation()},hide:function(e){C.determine.eventInModule(e,C.hide)}},menu:{mousedown:function(){W=!0},mouseup:function(){W=!1}},item:{mouseenter:function(t){var n=e(this).children(R.menu),i=e(this).siblings(R.item).children(R.menu);n.length>0&&(clearTimeout(C.itemTimer),C.itemTimer=setTimeout(function(){C.verbose("Showing sub-menu",n),e.each(i,function(){C.animate.hide(!1,e(this))}),C.animate.show(!1,n)},k.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(R.menu);n.length>0&&(clearTimeout(C.itemTimer),C.itemTimer=setTimeout(function(){C.verbose("Hiding sub-menu",n),C.animate.hide(!1,n)},k.delay.hide))},click:function(t){var n=e(this),i=e(t?t.target:""),o=n.find(R.menu),r=C.get.choiceText(n),a=C.get.choiceValue(n,r),s=o.length>0,l=o.find(i).length>0;l||s&&!k.allowCategorySelection||(k.useLabels||(C.remove.filteredItem(),C.remove.searchTerm(),C.set.scrollPosition(n)),C.determine.selectAction.call(this,r,a))}},document:{keydown:function(e){var t=e.which,n=C.get.shortcutKeys(),i=C.is.inObject(t,n);if(i){var o=L.find(R.label),r=o.filter("."+S.active),a=(r.data("value"),o.index(r)),s=o.length,l=r.length>0,c=r.length>1,u=0===a,d=a+1==s,f=C.is.searchSelection(),m=C.is.focusedOnSearch(),p=C.is.focused(),g=m&&0===C.get.caretPosition();if(f&&!l&&!m)return;t==n.leftArrow?!p&&!g||l?l&&(e.shiftKey?C.verbose("Adding previous label to selection"):(C.verbose("Selecting previous label"),o.removeClass(S.active)),u&&!c?r.addClass(S.active):r.prev(R.siblingLabel).addClass(S.active).end(),e.preventDefault()):(C.verbose("Selecting previous label"),o.last().addClass(S.active)):t==n.rightArrow?(p&&!l&&o.first().addClass(S.active),l&&(e.shiftKey?C.verbose("Adding next label to selection"):(C.verbose("Selecting next label"),o.removeClass(S.active)),d?f?m?o.removeClass(S.active):C.focusSearch():c?r.next(R.siblingLabel).addClass(S.active):r.addClass(S.active):r.next(R.siblingLabel).addClass(S.active),e.preventDefault())):t==n.deleteKey||t==n.backspace?l?(C.verbose("Removing active labels"),d&&f&&!m&&C.focusSearch(),r.last().next(R.siblingLabel).addClass(S.active),C.remove.activeLabels(r),e.preventDefault()):g&&!l&&t==n.backspace&&(C.verbose("Removing last label on input backspace"),r=o.last().addClass(S.active),C.remove.activeLabels(r)):r.removeClass(S.active)}}},keydown:function(e){var t=e.which,n=C.get.shortcutKeys(),i=C.is.inObject(t,n);if(i){var o,r,a=U.not(R.unselectable).filter("."+S.selected).eq(0),s=H.children("."+S.active).eq(0),l=a.length>0?a:s,c=l.length>0?l.siblings(":not(."+S.filtered+")").andSelf():H.children(":not(."+S.filtered+")"),u=l.children(R.menu),d=l.closest(R.menu),f=d.hasClass(S.visible)||d.hasClass(S.animating)||d.parent(R.menu).length>0,m=u.length>0,p=l.length>0,g=l.not(R.unselectable).length>0;if(C.is.visible()){if((t==n.enter||t==n.delimiter)&&(t==n.enter&&p&&m&&!k.allowCategorySelection?(C.verbose("Pressed enter on unselectable category, opening sub menu"),t=n.rightArrow):g&&(C.verbose("Selecting item from keyboard shortcut",l),C.event.item.click.call(l,e),C.is.searchSelection()&&C.remove.searchTerm()),e.preventDefault()),t==n.leftArrow&&(r=d[0]!==H[0],r&&(C.verbose("Left key pressed, closing sub-menu"),C.animate.hide(!1,d),l.removeClass(S.selected),d.closest(R.item).addClass(S.selected),e.preventDefault())),t==n.rightArrow&&m&&(C.verbose("Right key pressed, opening sub-menu"),C.animate.show(!1,u),l.removeClass(S.selected),u.find(R.item).eq(0).addClass(S.selected),e.preventDefault()),t==n.upArrow){if(o=p&&f?l.prevAll(R.item+":not("+R.unselectable+")").eq(0):U.eq(0),c.index(o)<0)return C.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();C.verbose("Up key pressed, changing active item"),l.removeClass(S.selected),o.addClass(S.selected),C.set.scrollPosition(o),e.preventDefault()}if(t==n.downArrow){if(o=p&&f?o=l.nextAll(R.item+":not("+R.unselectable+")").eq(0):U.eq(0),0===o.length)return C.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();C.verbose("Down key pressed, changing active item"),U.removeClass(S.selected),o.addClass(S.selected),C.set.scrollPosition(o),e.preventDefault()}t==n.pageUp&&(C.scrollPage("up"),e.preventDefault()),t==n.pageDown&&(C.scrollPage("down"),e.preventDefault()),t==n.escape&&(C.verbose("Escape key pressed, closing dropdown"),C.hide())}else t==n.delimiter&&e.preventDefault(),t==n.downArrow&&(C.verbose("Down key pressed, showing dropdown"),C.show(),e.preventDefault())}else C.is.selection()&&!C.is.search()&&C.set.selectedLetter(String.fromCharCode(t))}},determine:{selectAction:function(t,n){C.verbose("Determining action",k.action),e.isFunction(C.action[k.action])?(C.verbose("Triggering preset action",k.action,t,n),C.action[k.action].call(this,t,n)):e.isFunction(k.action)?(C.verbose("Triggering user action",k.action,t,n),k.action.call(this,t,n)):C.error(O.action,k.action)},eventInModule:function(t,i){var o=e(t.target),r=o.closest(n.documentElement).length>0,a=o.closest(L).length>0;return i=e.isFunction(i)?i:function(){},r&&!a?(C.verbose("Triggering event",i),i(),!0):(C.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(t,n){var i=e(t.target),o=i.closest(R.siblingLabel),r=0===L.find(o).length,a=0===i.closest(H).length;return n=e.isFunction(n)?n:function(){},r&&a?(C.verbose("Triggering event",n),n(),!0):(C.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(t,n){if(n=n!==i?n:t,C.can.activate(e(this))){if(C.set.selected(n,e(this)),C.is.multiple()&&!C.is.allFiltered())return;C.hideAndClear()}},select:function(e,t){C.action.activate.call(this)},combo:function(t,n){n=n!==i?n:t,C.set.selected(n,e(this)),C.hideAndClear()},hide:function(){C.hideAndClear()}},get:{id:function(){return y},text:function(){return q.text()},query:function(){return e.trim(j.val())},searchWidth:function(e){return e*k.glyphWidth+"em"},selectionCount:function(){var t,n=C.get.values();return t=C.is.multiple()?e.isArray(n)?n.length:0:""!==C.get.value()?1:0},transition:function(e){return"auto"==k.transition?C.is.upward(e)?"slide up":"slide down":k.transition},userValues:function(){var t=C.get.values();return t?(t=e.isArray(t)?t:[t],e.grep(t,function(e){return C.get.item(e)===!1})):!1},uniqueArray:function(t){return e.grep(t,function(n,i){return e.inArray(n,t)===i})},caretPosition:function(){var e,t,i=j.get(0);return"selectionStart"in i?i.selectionStart:n.selection?(i.focus(),e=n.selection.createRange(),t=e.text.length,e.moveStart("character",-i.value.length),e.text.length-t):void 0},shortcutKeys:function(){return{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40}},value:function(){var t=V.length>0?V.val():L.data(A.value);return e.isArray(t)&&1===t.length&&""===t[0]?"":t},values:function(){var e=C.get.value();return""===e?"":!C.has.selectInput()&&C.is.multiple()?"string"==typeof e?e.split(k.delimiter):"":e},remoteValues:function(){var t=C.get.values(),n=!1;return t&&("string"==typeof t&&(t=[t]),n={},e.each(t,function(e,t){var i=C.read.remoteData(t);C.verbose("Restoring value from session data",i,t),n[t]=i?i:t})),n},choiceText:function(e,t){return t=t!==i?t:k.preserveHTML,e?(e.find(R.menu).length>0&&(C.verbose("Retreiving text of element with sub-menu"),e=e.clone(),e.find(R.menu).remove(),e.find(R.menuIcon).remove()),e.data(A.text)!==i?e.data(A.text):t?e.html().trim():e.text().trim()):void 0},choiceValue:function(e,t){return t=t||C.get.choiceText(e),e?e.data(A.value)!==i?e.data(A.value):"string"==typeof t?t.toLowerCase().trim():t:!1},inputEvent:function(){var e=j[0];return e?e.oninput!==i?"input":e.onpropertychange!==i?"propertychange":"keyup":!1},selectValues:function(){var t={};return t.values=[],L.find("option").each(function(){var n=e(this),o=n.html(),r=n.attr("disabled"),a=n.attr("value")!==i?n.attr("value"):o;"auto"===k.placeholder&&""===a?t.placeholder=o:t.values.push({name:o,value:a,disabled:r})}),k.placeholder&&"auto"!==k.placeholder&&(C.debug("Setting placeholder value to",k.placeholder),t.placeholder=k.placeholder),k.sortSelect?(t.values.sort(function(e,t){return e.name>t.name?1:-1}),C.debug("Retrieved and sorted values from select",t)):C.debug("Retreived values from select",t),t},activeItem:function(){return U.filter("."+S.active)},selectedItem:function(){var e=U.not(R.unselectable).filter("."+S.selected);return e.length>0?e:U.eq(0)},itemWithAdditions:function(e){var t=C.get.item(e),n=C.create.userChoice(e),i=n&&n.length>0;return i&&(t=t.length>0?t.add(n):n),t},item:function(t,n){var o,r,a=!1;return t=t!==i?t:C.get.values()!==i?C.get.values():C.get.text(),o=r?t.length>0:t!==i&&""!==t&&null!==t,r=C.is.multiple()&&e.isArray(t),n=""===t||0===t?!0:n||!1,o&&U.each(function(){var o=e(this),s=C.get.choiceText(o),l=C.get.choiceValue(o,s);if(null!==l&&l!==i)if(r)(-1!==e.inArray(l.toString(),t)||-1!==e.inArray(s,t))&&(a=a?a.add(o):o);else if(n){if(C.verbose("Ambiguous dropdown value using strict type check",o,t),l===t||s===t)return a=o,!0}else if(l.toString()==t.toString()||s==t)return C.verbose("Found select item by value",l,t),a=o,!0}),a}},check:{maxSelections:function(e){return k.maxSelections?(e=e!==i?e:C.get.selectionCount(),e>=k.maxSelections?(C.debug("Maximum selection count reached"),k.useLabels&&(U.addClass(S.filtered),C.add.message(T.maxSelections)),!0):(C.verbose("No longer at maximum selection count"),C.remove.message(),C.remove.filteredItem(),C.is.searchSelection()&&C.filterItems(),!1)):!0}},restore:{defaults:function(){C.clear(),C.restore.defaultText(),C.restore.defaultValue()},defaultText:function(){var e=L.data(A.defaultText);C.debug("Restoring default text",e),C.set.text(e),q.addClass(S.placeholder)},defaultValue:function(){var e=L.data(A.defaultValue);e!==i&&(C.debug("Restoring default value",e),""!==e?(C.set.value(e),C.set.selected()):(C.remove.activeItem(),C.remove.selectedItem()))},labels:function(){k.allowAdditions&&(k.useLabels||(C.error(O.labels),k.useLabels=!0),C.debug("Restoring selected values"),C.create.userLabels()),C.check.maxSelections()},selected:function(){C.restore.values(),C.is.multiple()?(C.debug("Restoring previously selected values and labels"),C.restore.labels()):C.debug("Restoring previously selected values")},values:function(){C.set.initialLoad(),k.apiSettings?k.saveRemoteData?C.restore.remoteValues():C.clearValue():C.set.selected(),C.remove.initialLoad()},remoteValues:function(){var t=C.get.remoteValues();C.debug("Recreating selected from session data",t),t&&(C.is.single()?e.each(t,function(e,t){C.set.text(t)}):e.each(t,function(e,t){C.add.label(e,t)}))}},read:{remoteData:function(e){var n;return t.Storage===i?void C.error(O.noStorage):(n=sessionStorage.getItem(e),n!==i?n:!1)}},save:{defaults:function(){C.save.defaultText(),C.save.placeholderText(),C.save.defaultValue()},defaultValue:function(){var e=C.get.value();C.verbose("Saving default value as",e),L.data(A.defaultValue,e)},defaultText:function(){var e=C.get.text();C.verbose("Saving default text as",e),L.data(A.defaultText,e)},placeholderText:function(){var e;q.hasClass(S.placeholder)&&(e=C.get.text(),C.verbose("Saving placeholder text as",e),L.data(A.placeholderText,e))},remoteData:function(e,n){return t.Storage===i?void C.error(O.noStorage):(C.verbose("Saving remote data to session storage",n,e),void sessionStorage.setItem(n,e))}},clear:function(){C.is.multiple()?C.remove.labels():(C.remove.activeItem(),C.remove.selectedItem()),C.set.placeholderText(),C.clearValue()},clearValue:function(){C.set.value("")},scrollPage:function(e,t){var n,i,o,t=t||C.get.selectedItem(),r=t.closest(R.menu),a=r.outerHeight(),s=r.scrollTop(),l=U.eq(0).outerHeight(),c=Math.floor(a/l),u=(r.prop("scrollHeight"),"up"==e?s-l*c:s+l*c),d=U.not(R.unselectable);o="up"==e?d.index(t)-c:d.index(t)+c,n="up"==e?o>=0:o<d.length,i=n?d.eq(o):"up"==e?d.first():d.last(),i.length>0&&(C.debug("Scrolling page",e,i),t.removeClass(S.selected),i.addClass(S.selected),r.scrollTop(u))},set:{filtered:function(){var e=C.is.multiple(),t=C.is.searchSelection(),n=e&&t,i=t?C.get.query():"",o="string"==typeof i&&i.length>0,r=C.get.searchWidth(i.length),a=""!==i;e&&o&&(C.verbose("Adjusting input width",r,k.glyphWidth),j.css("width",r)),o||n&&a?(C.verbose("Hiding placeholder text"),q.addClass(S.filtered)):(!e||n&&!a)&&(C.verbose("Showing placeholder text"),q.removeClass(S.filtered))},loading:function(){L.addClass(S.loading)},placeholderText:function(e){e=e||L.data(A.placeholderText),e&&(C.debug("Restoring placeholder text"),C.set.text(e),q.addClass(S.placeholder))},tabbable:function(){C.has.search()?(C.debug("Added tabindex to searchable dropdown"),j.val("").attr("tabindex",0),H.attr("tabindex",-1)):(C.debug("Added tabindex to dropdown"),L.attr("tabindex")||(L.attr("tabindex",0),H.attr("tabindex",-1)))},initialLoad:function(){C.verbose("Setting initial load"),h=!0},scrollPosition:function(e,t){var n,o,r,a,s,l,c,u,d,f=5;e=e||C.get.selectedItem(),n=e.closest(R.menu),o=e&&e.length>0,t=t!==i?t:!1,e&&n.length>0&&o&&(a=e.position().top,n.addClass(S.loading),l=n.scrollTop(),s=n.offset().top,a=e.offset().top,r=l-s+a,t||(c=n.height(),d=r+f>l+c,u=l>r-f),C.debug("Scrolling to active item",r),(t||u||d)&&n.scrollTop(r),n.removeClass(S.loading))},text:function(e){"select"!==k.action&&("combo"==k.action?(C.debug("Changing combo button text",e,N),k.preserveHTML?N.html(e):N.text(e)):(C.debug("Changing text",e,q),q.removeClass(S.filtered).removeClass(S.placeholder),k.preserveHTML?q.html(e):q.text(e)))},selectedLetter:function(t){var n,i=U.filter("."+S.selected),o=i.length>0&&C.has.firstLetter(i,t),r=!1;o&&(n=i.nextAll(U).eq(0),C.has.firstLetter(n,t)&&(r=n)),r||U.each(function(){return C.has.firstLetter(e(this),t)?(r=e(this),!1):void 0}),r&&(C.verbose("Scrolling to next value with letter",t),C.set.scrollPosition(r),i.removeClass(S.selected),r.addClass(S.selected))},direction:function(e){"auto"==k.direction?C.is.onScreen(e)?C.remove.upward(e):C.set.upward(e):"upward"==k.direction&&C.set.upward(e)},upward:function(e){var t=e||L;t.addClass(S.upward)},value:function(e,t,n){var i=V.length>0,o=(!C.has.value(e),C.get.values()),r="number"==typeof e?e.toString():e;if(i){if(r==o&&(C.verbose("Skipping value update already same value",e,o),!C.is.initialLoad()))return;C.is.single()&&C.has.selectInput()&&C.can.extendSelect()&&(C.debug("Adding user option",e),C.add.optionValue(e)),C.debug("Updating input value",e,o),V.val(e).trigger("change")}else C.verbose("Storing value in metadata",e,V),e!==o&&L.data(A.value,e);k.fireOnInit===!1&&C.is.initialLoad()?C.verbose("No callback on initial load",k.onChange):k.onChange.call(K,e,t,n)},active:function(){L.addClass(S.active)},multiple:function(){L.addClass(S.multiple)},visible:function(){L.addClass(S.visible)},exactly:function(e,t){C.debug("Setting selected to exact values"),C.clear(),C.set.selected(e,t)},selected:function(t,n){var i=C.is.multiple();n=k.allowAdditions?n||C.get.itemWithAdditions(t):n||C.get.item(t),n&&(C.debug("Setting selected menu item to",n),C.is.single()?(C.remove.activeItem(),C.remove.selectedItem()):k.useLabels&&C.remove.selectedItem(),n.each(function(){var t=e(this),o=C.get.choiceText(t),r=C.get.choiceValue(t,o),a=t.hasClass(S.filtered),s=t.hasClass(S.active),l=t.hasClass(S.addition),c=i&&1==n.length;i?!s||l?(k.apiSettings&&k.saveRemoteData&&C.save.remoteData(o,r),k.useLabels?(C.add.value(r,o,t),C.add.label(r,o,c),t.addClass(S.active),C.filterActive(),C.select.nextAvailable(n)):(C.add.value(r,o,t),C.set.text(C.add.variables(T.count)),t.addClass(S.active))):a||(C.debug("Selected active value, removing label"),C.remove.selected(r)):(k.apiSettings&&k.saveRemoteData&&C.save.remoteData(o,r),C.set.text(o),C.set.value(r,o,t),t.addClass(S.active).addClass(S.selected))}))}},add:{label:function(t,n,i){var o,r=C.is.searchSelection()?j:q;return o=e("<a />").addClass(S.label).attr("data-value",t).html(P.label(t,n)),o=k.onLabelCreate.call(o,t,n),C.has.label(t)?void C.debug("Label already exists, skipping",t):(k.label.variation&&o.addClass(k.label.variation),void(i===!0?(C.debug("Animating in label",o),o.addClass(S.hidden).insertBefore(r).transition(k.label.transition,k.label.duration)):(C.debug("Adding selection label",o),o.insertBefore(r))))},message:function(t){var n=H.children(R.message),i=k.templates.message(C.add.variables(t));n.length>0?n.html(i):n=e("<div/>").html(i).addClass(S.message).appendTo(H)},optionValue:function(t){var n=V.find('option[value="'+t+'"]'),i=n.length>0;i||(x&&(x.disconnect(),C.verbose("Temporarily disconnecting mutation observer",t)),C.is.single()&&(C.verbose("Removing previous user addition"),V.find("option."+S.addition).remove()),e("<option/>").prop("value",t).addClass(S.addition).html(t).appendTo(V),C.verbose("Adding user addition as an <option>",t),x&&x.observe(V[0],{childList:!0,subtree:!0}))},userSuggestion:function(e){var t,n=H.children(R.addition),i=C.get.item(e),o=n.length>0;if(!k.useLabels||!C.has.maxSelections()){if(""===e||i)return void n.remove();U.removeClass(S.selected),o?(t=k.templates.addition(e),n.html(t).data(A.value,e).removeClass(S.filtered).addClass(S.selected),C.verbose("Replacing user suggestion with new value",n)):(n=C.create.userChoice(e),n.prependTo(H).addClass(S.selected),C.verbose("Adding item choice to menu corresponding with user choice addition",n))}},variables:function(e){var t,n,i=-1!==e.search("{count}"),o=-1!==e.search("{maxCount}"),r=-1!==e.search("{term}");return C.verbose("Adding templated variables to message",e),i&&(t=C.get.selectionCount(),e=e.replace("{count}",t)),o&&(t=C.get.selectionCount(),e=e.replace("{maxCount}",k.maxSelections)),r&&(n=C.get.query(),e=e.replace("{term}",n)),e},value:function(t,n,i){var o,r=C.get.values();return""===t?void C.debug("Cannot select blank values from multiselect"):(e.isArray(r)?(o=r.concat([t]),o=C.get.uniqueArray(o)):o=[t],C.has.selectInput()?C.can.extendSelect()&&(C.debug("Adding value to select",t,o,V),C.add.optionValue(t)):(o=o.join(k.delimiter),C.debug("Setting hidden input to delimited value",o,V)),k.fireOnInit===!1&&C.is.initialLoad()?C.verbose("No callback on initial load",k.onAdd):k.onAdd.call(K,t,n,i),C.set.value(o,t,n,i),void C.check.maxSelections())}},remove:{active:function(){L.removeClass(S.active)},activeLabel:function(){L.find(R.label).removeClass(S.active)},loading:function(){L.removeClass(S.loading)},initialLoad:function(){h=!1},upward:function(e){var t=e||L;t.removeClass(S.upward)},visible:function(){L.removeClass(S.visible)},activeItem:function(){U.removeClass(S.active)},filteredItem:function(){k.useLabels&&C.has.maxSelections()||(k.useLabels?U.not("."+S.active).removeClass(S.filtered):U.removeClass(S.filtered))},optionValue:function(e){var t=V.find('option[value="'+e+'"]'),n=t.length>0;n&&t.hasClass(S.addition)&&(x&&(x.disconnect(),C.verbose("Temporarily disconnecting mutation observer",e)),t.remove(),C.verbose("Removing user addition as an <option>",e),x&&x.observe(V[0],{childList:!0,subtree:!0}))},message:function(){H.children(R.message).remove()},searchTerm:function(){C.verbose("Cleared search term"),j.val(""),C.set.filtered()},selected:function(t,n){return(n=k.allowAdditions?n||C.get.itemWithAdditions(t):n||C.get.item(t))?void n.each(function(){var t=e(this),n=C.get.choiceText(t),i=C.get.choiceValue(t,n);C.is.multiple()?k.useLabels?(C.remove.value(i,n,t),C.remove.label(i)):(C.remove.value(i,n,t),C.set.text(C.add.variables(T.count))):C.remove.value(i,n,t),t.removeClass(S.filtered).removeClass(S.active),k.useLabels&&t.removeClass(S.selected)}):!1},selectedItem:function(){U.removeClass(S.selected)},value:function(e,t,n){var i,o=C.get.values();C.has.selectInput()?(C.verbose("Input is <select> removing selected option",e),i=C.remove.arrayValue(e,o),C.remove.optionValue(e)):(C.verbose("Removing from delimited values",e),i=C.remove.arrayValue(e,o),i=i.join(k.delimiter)),k.fireOnInit===!1&&C.is.initialLoad()?C.verbose("No callback on initial load",k.onRemove):k.onRemove.call(K,e,t,n),C.set.value(i,t,n),C.check.maxSelections()},arrayValue:function(t,n){return e.isArray(n)||(n=[n]),n=e.grep(n,function(e){return t!=e}),C.verbose("Removed value from delimited string",t,n),n},label:function(e,t){var n=L.find(R.label),i=n.filter('[data-value="'+e+'"]');C.verbose("Removing label",i),i.remove()},activeLabels:function(e){e=e||L.find(R.label).filter("."+S.active),C.verbose("Removing active label selections",e),C.remove.labels(e)},labels:function(t){t=t||L.find(R.label),C.verbose("Removing labels",t),t.each(function(){var t=e(this).data("value"),n=C.is.userValue(t);n?(C.remove.value(t),C.remove.label(t)):C.remove.selected(t)})},tabbable:function(){C.has.search()?(C.debug("Searchable dropdown initialized"),j.attr("tabindex","-1"),H.attr("tabindex","-1")):(C.debug("Simple selection dropdown initialized"),L.attr("tabindex","-1"),H.attr("tabindex","-1"))}},has:{search:function(){return j.length>0},selectInput:function(){return V.is("select")},firstLetter:function(e,t){var n,i;return e&&0!==e.length&&"string"==typeof t?(n=C.get.choiceText(e,!1),t=t.toLowerCase(),i=String(n).charAt(0).toLowerCase(),t==i):!1},input:function(){return V.length>0},items:function(){return U.length>0},menu:function(){return H.length>0},message:function(){return 0!==H.children(R.message).length},label:function(e){var t=L.find(R.label);return t.filter('[data-value="'+e+'"]').length>0},maxSelections:function(){return k.maxSelections&&C.get.selectionCount()>=k.maxSelections},allResultsFiltered:function(){return U.filter(R.unselectable).length===U.length},value:function(t){var n=C.get.values(),i=e.isArray(n)?n&&-1!==e.inArray(t,n):n==t;return i?!0:!1}},is:{active:function(){return L.hasClass(S.active)},alreadySetup:function(){return L.is("select")&&L.parent(R.dropdown).length>0&&0===L.prev().length},animating:function(e){
return e?e.transition&&e.transition("is animating"):H.transition&&H.transition("is animating")},disabled:function(){return L.hasClass(S.disabled)},focused:function(){return n.activeElement===L[0]},focusedOnSearch:function(){return n.activeElement===j[0]},allFiltered:function(){return(C.is.multiple()||C.has.search())&&!C.has.message()&&C.has.allResultsFiltered()},hidden:function(e){return!C.is.visible(e)},initialLoad:function(){return h},onScreen:function(e){var t,n=e||H,i=!0,o={};return n.addClass(S.loading),t={context:{scrollTop:z.scrollTop(),height:z.outerHeight()},menu:{offset:n.offset(),height:n.outerHeight()}},o={above:t.context.scrollTop<=t.menu.offset.top-t.menu.height,below:t.context.scrollTop+t.context.height>=t.menu.offset.top+t.menu.height},o.below?(C.verbose("Dropdown can fit in context downward",o),i=!0):o.below||o.above?(C.verbose("Dropdown cannot fit below, opening upward",o),i=!1):(C.verbose("Dropdown cannot fit in either direction, favoring downward",o),i=!0),n.removeClass(S.loading),i},inObject:function(t,n){var i=!1;return e.each(n,function(e,n){return n==t?(i=!0,!0):void 0}),i},multiple:function(){return L.hasClass(S.multiple)},single:function(){return!C.is.multiple()},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){return i.target&&e(i.target).is("select")?(n=!0,!0):void 0}),n},search:function(){return L.hasClass(S.search)},searchSelection:function(){return C.has.search()&&1===j.parent(R.dropdown).length},selection:function(){return L.hasClass(S.selection)},userValue:function(t){return-1!==e.inArray(t,C.get.userValues())},upward:function(e){var t=e||L;return t.hasClass(S.upward)},visible:function(e){return e?e.hasClass(S.visible):H.hasClass(S.visible)}},can:{activate:function(e){return k.useLabels?!0:C.has.maxSelections()?C.has.maxSelections()&&e.hasClass(S.active)?!0:!1:!0},click:function(){return c||"click"==k.on},extendSelect:function(){return k.allowAdditions||k.apiSettings},show:function(){return!C.is.disabled()&&(C.has.items()||C.has.message())},useAPI:function(){return e.fn.api!==i}},animate:{show:function(t,n){var o,r=n||H,a=n?function(){}:function(){C.hideSubMenus(),C.hideOthers(),C.set.active()};t=e.isFunction(t)?t:function(){},C.verbose("Doing menu show animation",r),C.set.direction(n),o=C.get.transition(n),C.is.selection()&&C.set.scrollPosition(C.get.selectedItem(),!0),(C.is.hidden(r)||C.is.animating(r))&&("none"==o?(a(),r.transition("show"),t.call(K)):e.fn.transition!==i&&L.transition("is supported")?r.transition({animation:o+" in",debug:k.debug,verbose:k.verbose,duration:k.duration,queue:!0,onStart:a,onComplete:function(){t.call(K)}}):C.error(O.noTransition,o))},hide:function(t,n){var o=n||H,r=(n?.9*k.duration:k.duration,n?function(){}:function(){C.can.click()&&C.unbind.intent(),C.remove.active()}),a=C.get.transition(n);t=e.isFunction(t)?t:function(){},(C.is.visible(o)||C.is.animating(o))&&(C.verbose("Doing menu hide animation",o),"none"==a?(r(),o.transition("hide"),t.call(K)):e.fn.transition!==i&&L.transition("is supported")?o.transition({animation:a+" out",duration:k.duration,debug:k.debug,verbose:k.verbose,queue:!0,onStart:r,onComplete:function(){"auto"==k.direction&&C.remove.upward(n),t.call(K)}}):C.error(O.transition))}},hideAndClear:function(){C.remove.searchTerm(),C.has.maxSelections()||(C.has.search()?C.hide(function(){C.remove.filteredItem()}):C.hide())},delay:{show:function(){C.verbose("Delaying show event to ensure user intent"),clearTimeout(C.timer),C.timer=setTimeout(C.show,k.delay.show)},hide:function(){C.verbose("Delaying hide event to ensure user intent"),clearTimeout(C.timer),C.timer=setTimeout(C.hide,k.delay.hide)}},escape:{regExp:function(e){return e=String(e),e.replace(D.escape,"\\$&")}},setting:function(t,n){if(C.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,k,t);else{if(n===i)return k[t];k[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(n===i)return C[t];C[t]=n}},debug:function(){k.debug&&(k.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,k.name+":"),C.debug.apply(console,arguments)))},verbose:function(){k.verbose&&k.debug&&(k.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,k.name+":"),C.verbose.apply(console,arguments)))},error:function(){C.error=Function.prototype.bind.call(console.error,console,k.name+":"),C.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;k.performance&&(t=(new Date).getTime(),i=u||t,n=t-i,u=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:K,"Execution Time":n})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var t=k.name+":",n=0;u=!1,clearTimeout(C.performance.timer),e.each(d,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",l&&(t+=" '"+l+"'"),(console.group!==i||console.table!==i)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,n,o){var a,s,l,c=$;return n=n||p,o=K||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,o){var r=n!=a?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[r])&&n!=a)c=c[r];else{if(c[r]!==i)return s=c[r],!1;if(!e.isPlainObject(c[o])||n==a)return c[o]!==i?(s=c[o],!1):(C.error(O.method,t),!1);c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),s}},m?($===i&&C.initialize(),C.invoke(f)):($!==i&&$.invoke("destroy"),C.initialize())}),r!==i?r:a},e.fn.dropdown.settings={debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,saveRemoteData:!0,throttle:200,context:t,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.0714,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,n){},onAdd:function(e,t,n){},onRemove:function(e,t,n){},onLabelSelect:function(e){},onLabelCreate:function(t,n){return e(this)},onNoResults:function(e){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},selector:{addition:".addition",dropdown:".ui.dropdown",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},e.fn.dropdown.settings.templates={dropdown:function(t){var n=t.placeholder||!1,i=(t.values||{},"");return i+='<i class="dropdown icon"></i>',i+=t.placeholder?'<div class="default text">'+n+"</div>":'<div class="text"></div>',i+='<div class="menu">',e.each(t.values,function(e,t){i+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),i+="</div>"},menu:function(t){var n=(t.values||{},"");return e.each(t.values,function(e,t){n+='<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),n},label:function(e,t){return t+'<i class="delete icon"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.popup=function(o){var r,a=e(this),s=e(n),l=e(t),c=e("body"),u=a.selector||"",d=!0,f=(new Date).getTime(),m=[],p=arguments[0],g="string"==typeof p,h=[].slice.call(arguments,1);return a.each(function(){var n,a,v,b,y,x=e.isPlainObject(o)?e.extend(!0,{},e.fn.popup.settings,o):e.extend({},e.fn.popup.settings),w=x.selector,C=x.className,k=x.error,S=x.metadata,T=x.namespace,A="."+x.namespace,E="module-"+T,D=e(this),R=e(x.context),O=x.target?e(x.target):D,P=0,F=!1,I=!1,L=this,z=D.data(E);y={initialize:function(){y.debug("Initializing",D),y.createID(),y.bind.events(),!y.exists()&&x.preserve&&y.create(),y.instantiate()},instantiate:function(){y.verbose("Storing instance",y),z=y,D.data(E,z)},refresh:function(){x.popup?n=e(x.popup).eq(0):x.inline&&(n=O.next(w.popup).eq(0),x.popup=n),x.popup?(n.addClass(C.loading),a=y.get.offsetParent(),n.removeClass(C.loading),x.movePopup&&y.has.popup()&&y.get.offsetParent(n)[0]!==a[0]&&(y.debug("Moving popup to the same offset parent as activating element"),n.detach().appendTo(a))):a=x.inline?y.get.offsetParent(O):y.has.popup()?y.get.offsetParent(n):c,a.is("html")&&a[0]!==c[0]&&(y.debug("Setting page as offset parent"),a=c)},reposition:function(){y.refresh(),y.set.position()},destroy:function(){y.debug("Destroying previous module"),n&&!x.preserve&&y.removePopup(),clearTimeout(y.hideTimer),clearTimeout(y.showTimer),l.off(v),D.off(A).removeData(E)},event:{start:function(t){var n=e.isPlainObject(x.delay)?x.delay.show:x.delay;clearTimeout(y.hideTimer),I||(y.showTimer=setTimeout(y.show,n))},end:function(){var t=e.isPlainObject(x.delay)?x.delay.hide:x.delay;clearTimeout(y.showTimer),y.hideTimer=setTimeout(y.hide,t)},touchstart:function(e){I=!0,y.show()},resize:function(){y.is.visible()&&y.set.position()},hideGracefully:function(t){t&&0===e(t.target).closest(w.popup).length?(y.debug("Click occurred outside popup hiding popup"),y.hide()):y.debug("Click was inside popup, keeping popup open")}},create:function(){var t=y.get.html(),i=y.get.variation(),o=y.get.title(),r=y.get.content();t||r||o?(y.debug("Creating pop-up html"),t||(t=x.templates.popup({title:o,content:r})),n=e("<div/>").addClass(C.popup).addClass(i).data(S.activator,D).html(t),i&&n.addClass(i),x.inline?(y.verbose("Inserting popup element inline",n),n.insertAfter(D)):(y.verbose("Appending popup element to body",n),n.appendTo(R)),y.refresh(),x.hoverable&&y.bind.popup(),x.onCreate.call(n,L)):0!==O.next(w.popup).length?(y.verbose("Pre-existing popup found"),x.inline=!0,x.popups=O.next(w.popup).data(S.activator,D),y.refresh(),x.hoverable&&y.bind.popup()):x.popup?(e(x.popup).data(S.activator,D),y.verbose("Used popup specified in settings"),y.refresh(),x.hoverable&&y.bind.popup()):y.debug("No content specified skipping display",L)},createID:function(){b=(Math.random().toString(16)+"000000000").substr(2,8),v="."+b,y.verbose("Creating unique id for element",b)},toggle:function(){y.debug("Toggling pop-up"),y.is.hidden()?(y.debug("Popup is hidden, showing pop-up"),y.unbind.close(),y.show()):(y.debug("Popup is visible, hiding pop-up"),y.hide())},show:function(e){if(e=e||function(){},y.debug("Showing pop-up",x.transition),y.is.hidden()&&(!y.is.active()||!y.is.dropdown())){if(y.exists()||y.create(),x.onShow.call(n,L)===!1)return void y.debug("onShow callback returned false, cancelling popup animation");x.preserve||x.popup||y.refresh(),n&&y.set.position()&&(y.save.conditions(),x.exclusive&&y.hideAll(),y.animate.show(e))}},hide:function(e){if(e=e||function(){},y.is.visible()||y.is.animating()){if(x.onHide.call(n,L)===!1)return void y.debug("onHide callback returned false, cancelling popup animation");y.remove.visible(),y.unbind.close(),y.restore.conditions(),y.animate.hide(e)}},hideAll:function(){e(w.popup).filter("."+C.visible).each(function(){e(this).data(S.activator).popup("hide")})},exists:function(){return n?x.inline||x.popup?y.has.popup():n.closest(R).length>=1?!0:!1:!1},removePopup:function(){y.debug("Removing popup",n),y.has.popup()&&!x.popup&&(n.remove(),n=i),x.onRemove.call(n,L)},save:{conditions:function(){y.cache={title:D.attr("title")},y.cache.title&&D.removeAttr("title"),y.verbose("Saving original attributes",y.cache.title)}},restore:{conditions:function(){return y.cache&&y.cache.title&&(D.attr("title",y.cache.title),y.verbose("Restoring original attributes",y.cache.title)),!0}},animate:{show:function(t){t=e.isFunction(t)?t:function(){},x.transition&&e.fn.transition!==i&&D.transition("is supported")?(y.set.visible(),n.transition({animation:x.transition+" in",queue:!1,debug:x.debug,verbose:x.verbose,duration:x.duration,onComplete:function(){y.bind.close(),t.call(n,L),x.onVisible.call(n,L)}})):y.error(k.noTransition)},hide:function(t){return t=e.isFunction(t)?t:function(){},y.debug("Hiding pop-up"),x.onHide.call(n,L)===!1?void y.debug("onHide callback returned false, cancelling popup animation"):void(x.transition&&e.fn.transition!==i&&D.transition("is supported")?n.transition({animation:x.transition+" out",queue:!1,duration:x.duration,debug:x.debug,verbose:x.verbose,onComplete:function(){y.reset(),t.call(n,L),x.onHidden.call(n,L)}}):y.error(k.noTransition))}},get:{html:function(){return D.removeData(S.html),D.data(S.html)||x.html},title:function(){return D.removeData(S.title),D.data(S.title)||x.title},content:function(){return D.removeData(S.content),D.data(S.content)||D.attr("title")||x.content},variation:function(){return D.removeData(S.variation),D.data(S.variation)||x.variation},popupOffset:function(){return n.offset()},calculations:function(){var e,i=O[0],o=x.inline||x.popup?O.position():O.offset(),r={};return r={target:{element:O[0],width:O.outerWidth(),height:O.outerHeight(),top:o.top,left:o.left,margin:{}},popup:{width:n.outerWidth(),height:n.outerHeight()},parent:{width:a.outerWidth(),height:a.outerHeight()},screen:{scroll:{top:l.scrollTop(),left:l.scrollLeft()},width:l.width(),height:l.height()}},x.setFluidWidth&&y.is.fluid()&&(r.container={width:n.parent().outerWidth()},r.popup.width=r.container.width),r.target.margin.top=x.inline?parseInt(t.getComputedStyle(i).getPropertyValue("margin-top"),10):0,r.target.margin.left=x.inline?y.is.rtl()?parseInt(t.getComputedStyle(i).getPropertyValue("margin-right"),10):parseInt(t.getComputedStyle(i).getPropertyValue("margin-left"),10):0,e=r.screen,r.boundary={top:e.scroll.top,bottom:e.scroll.top+e.height,left:e.scroll.left,right:e.scroll.left+e.width},r},id:function(){return b},startEvent:function(){return"hover"==x.on?"mouseenter":"focus"==x.on?"focus":!1},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==x.on?"mouseleave":"focus"==x.on?"blur":!1},distanceFromBoundary:function(e,t){var n,i,o={};return e=e||y.get.offset(),t=t||y.get.calculations(),n=t.popup,i=t.boundary,e&&(o={top:e.top-i.top,left:e.left-i.left,right:i.right-(e.left+n.width),bottom:i.bottom-(e.top+n.height)},y.verbose("Distance from boundaries determined",e,o)),o},offsetParent:function(t){var n=t!==i?t[0]:D[0],o=n.parentNode,r=e(o);if(o)for(var a="none"===r.css("transform"),s="static"===r.css("position"),l=r.is("html");o&&!l&&s&&a;)o=o.parentNode,r=e(o),a="none"===r.css("transform"),s="static"===r.css("position"),l=r.is("html");return r&&r.length>0?r:e()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(e){var t=e.split(" "),n=t[0],i=t[1],o={top:"bottom",bottom:"top",left:"right",right:"left"},r={left:"center",center:"right",right:"left"},a={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},s="top"==n||"bottom"==n,l=!1,c=!1,u=!1;return F||(y.verbose("All available positions available"),F=y.get.positions()),y.debug("Recording last position tried",e),F[e]=!0,"opposite"===x.prefer&&(u=[o[n],i],u=u.join(" "),l=F[u]===!0,y.debug("Trying opposite strategy",u)),"adjacent"===x.prefer&&s&&(u=[n,r[i]],u=u.join(" "),c=F[u]===!0,y.debug("Trying adjacent strategy",u)),(c||l)&&(y.debug("Using backup position",u),u=a[e]),u}},set:{position:function(e,t){if(0===O.length||0===n.length)return void y.error(k.notFound);var o,r,a,s,l,c,u,d;if(t=t||y.get.calculations(),e=e||D.data(S.position)||x.position,o=D.data(S.offset)||x.offset,r=x.distanceAway,a=t.target,s=t.popup,l=t.parent,0===a.width&&0===a.height)return y.debug("Popup target is hidden, no action taken"),!1;switch(x.inline&&(y.debug("Adding margin to calculation",a.margin),"left center"==e||"right center"==e?(o+=a.margin.top,r+=-a.margin.left):"top left"==e||"top center"==e||"top right"==e?(o+=a.margin.left,r-=a.margin.top):(o+=a.margin.left,r+=a.margin.top)),y.debug("Determining popup position from calculations",e,t),y.is.rtl()&&(e=e.replace(/left|right/g,function(e){return"left"==e?"right":"left"}),y.debug("RTL: Popup position updated",e)),P==x.maxSearchDepth&&"string"==typeof x.lastResort&&(e=x.lastResort),e){case"top left":c={top:"auto",bottom:l.height-a.top+r,left:a.left+o,right:"auto"};break;case"top center":c={bottom:l.height-a.top+r,left:a.left+a.width/2-s.width/2+o,top:"auto",right:"auto"};break;case"top right":c={bottom:l.height-a.top+r,right:l.width-a.left-a.width-o,top:"auto",left:"auto"};break;case"left center":c={top:a.top+a.height/2-s.height/2+o,right:l.width-a.left+r,left:"auto",bottom:"auto"};break;case"right center":c={top:a.top+a.height/2-s.height/2+o,left:a.left+a.width+r,bottom:"auto",right:"auto"};break;case"bottom left":c={top:a.top+a.height+r,left:a.left+o,bottom:"auto",right:"auto"};break;case"bottom center":c={top:a.top+a.height+r,left:a.left+a.width/2-s.width/2+o,bottom:"auto",right:"auto"};break;case"bottom right":c={top:a.top+a.height+r,right:l.width-a.left-a.width-o,left:"auto",bottom:"auto"}}if(c===i&&y.error(k.invalidPosition,e),y.debug("Calculated popup positioning values",c),n.css(c).removeClass(C.position).addClass(e).addClass(C.loading),u=y.get.popupOffset(),d=y.get.distanceFromBoundary(u,t),y.is.offstage(d,e)){if(y.debug("Position is outside viewport",e),P<x.maxSearchDepth)return P++,e=y.get.nextPosition(e),y.debug("Trying new position",e),n?y.set.position(e,t):!1;if(!x.lastResort)return y.debug("Popup could not find a position to display",n),y.error(k.cannotPlace,L),y.remove.attempts(),y.remove.loading(),y.reset(),!1;y.debug("No position found, showing with last position")}return y.debug("Position is on stage",e),y.remove.attempts(),y.remove.loading(),x.setFluidWidth&&y.is.fluid()&&y.set.fluidWidth(t),!0},fluidWidth:function(e){e=e||y.get.calculations(),y.debug("Automatically setting element width to parent width",e.parent.width),n.css("width",e.container.width)},visible:function(){D.addClass(C.visible)}},remove:{loading:function(){n.removeClass(C.loading)},visible:function(){D.removeClass(C.visible)},attempts:function(){y.verbose("Resetting all searched positions"),P=0,F=!1}},bind:{events:function(){y.debug("Binding popup events to module"),"click"==x.on&&D.on("click"+A,y.toggle),"hover"==x.on&&d&&D.on("touchstart"+A,y.event.touchstart),y.get.startEvent()&&D.on(y.get.startEvent()+A,y.event.start).on(y.get.endEvent()+A,y.event.end),x.target&&y.debug("Target set to element",O),l.on("resize"+v,y.event.resize)},popup:function(){y.verbose("Allowing hover events on popup to prevent closing"),n&&y.has.popup()&&n.on("mouseenter"+A,y.event.start).on("mouseleave"+A,y.event.end)},close:function(){(x.hideOnScroll===!0||"auto"==x.hideOnScroll&&"click"!=x.on)&&(s.one(y.get.scrollEvent()+v,y.event.hideGracefully),R.one(y.get.scrollEvent()+v,y.event.hideGracefully)),"hover"==x.on&&I&&(y.verbose("Binding popup close event to document"),s.on("touchstart"+v,function(e){y.verbose("Touched away from popup"),y.event.hideGracefully.call(L,e)})),"click"==x.on&&x.closable&&(y.verbose("Binding popup close event to document"),s.on("click"+v,function(e){y.verbose("Clicked away from popup"),y.event.hideGracefully.call(L,e)}))}},unbind:{close:function(){(x.hideOnScroll===!0||"auto"==x.hideOnScroll&&"click"!=x.on)&&(s.off("scroll"+v,y.hide),R.off("scroll"+v,y.hide)),"hover"==x.on&&I&&(s.off("touchstart"+v),I=!1),"click"==x.on&&x.closable&&(y.verbose("Removing close event from document"),s.off("click"+v))}},has:{popup:function(){return n&&n.length>0}},is:{offstage:function(t,n){var i=[];return e.each(t,function(e,t){t<-x.jitter&&(y.debug("Position exceeds allowable distance from edge",e,t,n),i.push(e))}),i.length>0?!0:!1},active:function(){return D.hasClass(C.active)},animating:function(){return n&&n.hasClass(C.animating)},fluid:function(){return n&&n.hasClass(C.fluid)},visible:function(){return n&&n.hasClass(C.visible)},dropdown:function(){return D.hasClass(C.dropdown)},hidden:function(){return!y.is.visible()},rtl:function(){return"rtl"==D.css("direction")}},reset:function(){y.remove.visible(),x.preserve?e.fn.transition!==i&&n.transition("remove transition"):y.removePopup()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(n===i)return x[t];x[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(n===i)return y[t];y[t]=n}},debug:function(){x.debug&&(x.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,x.name+":"),y.debug.apply(console,arguments)))},verbose:function(){x.verbose&&x.debug&&(x.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),y.verbose.apply(console,arguments)))},error:function(){y.error=Function.prototype.bind.call(console.error,console,x.name+":"),y.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;x.performance&&(t=(new Date).getTime(),i=f||t,n=t-i,f=t,m.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:L,"Execution Time":n})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,500)},display:function(){var t=x.name+":",n=0;f=!1,clearTimeout(y.performance.timer),e.each(m,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),(console.group!==i||console.table!==i)&&m.length>0&&(console.groupCollapsed(t),console.table?console.table(m):e.each(m,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(t,n,o){var a,s,l,c=z;return n=n||h,o=L||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,o){var r=n!=a?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[r])&&n!=a)c=c[r];else{if(c[r]!==i)return s=c[r],!1;if(!e.isPlainObject(c[o])||n==a)return c[o]!==i?(s=c[o],!1):!1;c=c[o]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),s}},g?(z===i&&y.initialize(),y.invoke(p)):(z!==i&&z.invoke("destroy"),y.initialize())}),r!==i?r:this},e.fn.popup.settings={name:"Popup",debug:!1,verbose:!1,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},on:"hover",addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(e){var t=/[&<>"'`]/g,n=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=function(e){return i[e]};return n.test(e)?e.replace(t,o):e},popup:function(t){var n="",o=e.fn.popup.settings.templates.escape;return typeof t!==i&&(typeof t.title!==i&&t.title&&(t.title=o(t.title),n+='<div class="header">'+t.title+"</div>"),typeof t.content!==i&&t.content&&(t.content=o(t.content),n+='<div class="content">'+t.content+"</div>")),n}}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.sticky=function(n){var o,r=e(this),a=r.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return r.each(function(){var r,f,m,p,g=e.isPlainObject(n)?e.extend(!0,{},e.fn.sticky.settings,n):e.extend({},e.fn.sticky.settings),h=g.className,v=g.namespace,b=g.error,y="."+v,x="module-"+v,w=e(this),C=e(t),k=e(g.scrollContext),S=(w.selector||"",w.data(x)),T=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},A=this;p={initialize:function(){p.determineContainer(),p.determineContext(),p.verbose("Initializing sticky",g,r),p.save.positions(),p.checkErrors(),p.bind.events(),g.observeChanges&&p.observeChanges(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),S=p,w.data(x,p)},destroy:function(){p.verbose("Destroying previous instance"),p.reset(),m&&m.disconnect(),C.off("load"+y,p.event.load).off("resize"+y,p.event.resize),k.off("scrollchange"+y,p.event.scrollchange),w.removeData(x)},observeChanges:function(){var e=f[0];"MutationObserver"in t&&(m=new MutationObserver(function(e){clearTimeout(p.timer),p.timer=setTimeout(function(){p.verbose("DOM tree modified, updating sticky menu",e),p.refresh()},100)}),m.observe(A,{childList:!0,subtree:!0}),m.observe(e,{childList:!0,subtree:!0}),p.debug("Setting up mutation observer",m))},determineContainer:function(){r=w.offsetParent()},determineContext:function(){return f=g.context?e(g.context):r,0===f.length?void p.error(b.invalidContext,g.context,w):void 0},checkErrors:function(){return p.is.hidden()&&p.error(b.visible,w),p.cache.element.height>p.cache.context.height?(p.reset(),void p.error(b.elementSize,w)):void 0},bind:{events:function(){C.on("load"+y,p.event.load).on("resize"+y,p.event.resize),k.off("scroll"+y).on("scroll"+y,p.event.scroll).on("scrollchange"+y,p.event.scrollchange)}},event:{load:function(){p.verbose("Page contents finished loading"),T(p.refresh)},resize:function(){p.verbose("Window resized"),T(p.refresh)},scroll:function(){T(function(){k.triggerHandler("scrollchange"+y,k.scrollTop())})},scrollchange:function(e,t){p.stick(t),g.onScroll.call(A)}},refresh:function(e){p.reset(),g.context||p.determineContext(),e&&p.determineContainer(),p.save.positions(),p.stick(),g.onReposition.call(A)},supports:{sticky:function(){{var t=e("<div/>");t[0]}return t.addClass(h.supported),t.css("position").match("sticky")}},save:{lastScroll:function(e){p.lastScroll=e},elementScroll:function(e){p.elementScroll=e},positions:function(){{var e={height:C.height()},t={margin:{top:parseInt(w.css("margin-top"),10),bottom:parseInt(w.css("margin-bottom"),10)},offset:w.offset(),width:w.outerWidth(),height:w.outerHeight()},n={offset:f.offset(),height:f.outerHeight()};({height:r.outerHeight()})}p.cache={fits:t.height<e.height,window:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:n.offset.top,height:n.height,bottom:n.offset.top+n.height}},p.set.containerSize(),p.set.size(),p.stick(),p.debug("Caching element positions",p.cache)}},get:{direction:function(e){var t="down";return e=e||k.scrollTop(),p.lastScroll!==i&&(p.lastScroll<e?t="down":p.lastScroll>e&&(t="up")),t},scrollChange:function(e){return e=e||k.scrollTop(),p.lastScroll?e-p.lastScroll:0},currentElementScroll:function(){return p.elementScroll?p.elementScroll:p.is.top()?Math.abs(parseInt(w.css("top"),10))||0:Math.abs(parseInt(w.css("bottom"),10))||0},elementScroll:function(e){e=e||k.scrollTop();var t=p.cache.element,n=p.cache.window,i=p.get.scrollChange(e),o=t.height-n.height+g.offset,r=p.get.currentElementScroll(),a=r+i;return r=p.cache.fits||0>a?0:a>o?o:a}},remove:{lastScroll:function(){delete p.lastScroll},elementScroll:function(e){delete p.elementScroll},offset:function(){w.css("margin-top","")}},set:{offset:function(){p.verbose("Setting offset on element",g.offset),w.css("margin-top",g.offset)},containerSize:function(){var e=r.get(0).tagName;"HTML"===e||"body"==e?p.determineContainer():Math.abs(r.outerHeight()-p.cache.context.height)>g.jitter&&(p.debug("Context has padding, specifying exact height for container",p.cache.context.height),r.css({height:p.cache.context.height}))},minimumSize:function(){var e=p.cache.element;r.css("min-height",e.height)},scroll:function(e){p.debug("Setting scroll on element",e),p.elementScroll!=e&&(p.is.top()&&w.css("bottom","").css("top",-e),p.is.bottom()&&w.css("top","").css("bottom",e))},size:function(){0!==p.cache.element.height&&0!==p.cache.element.width&&w.css({width:p.cache.element.width,height:p.cache.element.height})}},is:{top:function(){return w.hasClass(h.top)},bottom:function(){return w.hasClass(h.bottom)},initialPosition:function(){return!p.is.fixed()&&!p.is.bound()},hidden:function(){return!w.is(":visible")},bound:function(){return w.hasClass(h.bound)},fixed:function(){return w.hasClass(h.fixed)}},stick:function(e){var t=e||k.scrollTop(),n=p.cache,i=n.fits,o=n.element,r=n.window,a=n.context,s=p.is.bottom()&&g.pushing?g.bottomOffset:g.offset,e={top:t+s,bottom:t+s+r.height},l=(p.get.direction(e.top),i?0:p.get.elementScroll(e.top)),c=!i,u=0!==o.height;u&&(p.is.initialPosition()?e.top>a.bottom?(p.debug("Element bottom of container"),p.bindBottom()):e.top>o.top&&(p.debug("Element passed, fixing element to page"),o.height+e.top-l>a.bottom?p.bindBottom():p.fixTop()):p.is.fixed()?p.is.top()?e.top<o.top?(p.debug("Fixed element reached top of container"),p.setInitialPosition()):o.height+e.top-l>a.bottom?(p.debug("Fixed element reached bottom of container"),p.bindBottom()):c&&(p.set.scroll(l),p.save.lastScroll(e.top),p.save.elementScroll(l)):p.is.bottom()&&(e.bottom-o.height<o.top?(p.debug("Bottom fixed rail has reached top of container"),p.setInitialPosition()):e.bottom>a.bottom?(p.debug("Bottom fixed rail has reached bottom of container"),p.bindBottom()):c&&(p.set.scroll(l),p.save.lastScroll(e.top),p.save.elementScroll(l))):p.is.bottom()&&(g.pushing?p.is.bound()&&e.bottom<a.bottom&&(p.debug("Fixing bottom attached element to bottom of browser."),p.fixBottom()):p.is.bound()&&e.top<a.bottom-o.height&&(p.debug("Fixing bottom attached element to top of browser."),p.fixTop())))},bindTop:function(){p.debug("Binding element to top of parent container"),p.remove.offset(),
w.css({left:"",top:"",marginBottom:""}).removeClass(h.fixed).removeClass(h.bottom).addClass(h.bound).addClass(h.top),g.onTop.call(A),g.onUnstick.call(A)},bindBottom:function(){p.debug("Binding element to bottom of parent container"),p.remove.offset(),w.css({left:"",top:""}).removeClass(h.fixed).removeClass(h.top).addClass(h.bound).addClass(h.bottom),g.onBottom.call(A),g.onUnstick.call(A)},setInitialPosition:function(){p.unfix(),p.unbind()},fixTop:function(){p.debug("Fixing element to top of page"),p.set.minimumSize(),p.set.offset(),w.css({left:p.cache.element.left,bottom:"",marginBottom:""}).removeClass(h.bound).removeClass(h.bottom).addClass(h.fixed).addClass(h.top),g.onStick.call(A)},fixBottom:function(){p.debug("Sticking element to bottom of page"),p.set.minimumSize(),p.set.offset(),w.css({left:p.cache.element.left,bottom:"",marginBottom:""}).removeClass(h.bound).removeClass(h.top).addClass(h.fixed).addClass(h.bottom),g.onStick.call(A)},unbind:function(){p.debug("Removing absolute position on element"),p.remove.offset(),w.removeClass(h.bound).removeClass(h.top).removeClass(h.bottom)},unfix:function(){p.debug("Removing fixed position on element"),p.remove.offset(),w.removeClass(h.fixed).removeClass(h.top).removeClass(h.bottom),g.onUnstick.call(A)},reset:function(){p.debug("Reseting elements position"),p.unbind(),p.unfix(),p.resetCSS(),p.remove.offset(),p.remove.lastScroll()},resetCSS:function(){w.css({width:"",height:""}),r.css({height:""})},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},debug:function(){g.debug&&(g.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,g.name+":"),p.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,g.name+":"),p.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;g.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:A,"Execution Time":n})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,0)},display:function(){var t=g.name+":",n=0;s=!1,clearTimeout(p.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,r){var a,s,l,c=S;return n=n||d,r=A||r,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,o){var r=n!=a?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[r])&&n!=a)c=c[r];else{if(c[r]!==i)return s=c[r],!1;if(!e.isPlainObject(c[o])||n==a)return c[o]!==i?(s=c[o],!1):!1;c=c[o]}})),e.isFunction(s)?l=s.apply(r,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},u?(S===i&&p.initialize(),p.invoke(c)):(S!==i&&S.invoke("destroy"),p.initialize())}),o!==i?o:this},e.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,scrollContext:t,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document);